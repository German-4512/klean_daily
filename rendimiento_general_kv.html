<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rendimiento General - Klean Vet</title>
    <meta name="theme-color" content="#00cbd1">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="rendimiento_general_kv.css">
</head>
<body>
    <header class="header-container">
        <div class="brand">
            <span class="brand-black">KLEAN VET</span>
            <span class="brand-accent">DAILY</span>
        </div>
        <a href="#" id="logout-btn" class="logout-link">
            <span class="logout-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" width="18" height="18" role="img" focusable="false">
                    <path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0 2c-3.33 0-8 1.67-8 5v1h16v-1c0-3.33-4.67-5-8-5z" fill="currentColor"></path>
                </svg>
            </span>
            Cerrar Sesion
        </a>
    </header>

    <main class="page">
        <div class="page-card">
            <div class="page-head">
                <button type="button" class="btn-back" id="btn-back">ATRAS</button>
                <div>
                    <h1 class="page-title">RENDIMIENTO <span class="title-accent">GENERAL</span></h1>
                    <p class="page-subtitle" id="period-subtitle">Resumen del periodo</p>
                </div>
            </div>

            <section class="filters">
                <div class="filter-group">
                    <label for="filter-month">Filtrar por mes</label>
                    <input type="month" id="filter-month">
                </div>
                <div class="filter-actions">
                    <button type="button" class="btn-filter" data-preset="yesterday">Ayer</button>
                    <button type="button" class="btn-filter" data-preset="today">Hoy</button>
                    <button type="button" class="btn-filter" data-preset="last7">Ultimos 7 dias</button>
                    <button type="button" class="btn-filter btn-primary" id="btn-apply-month">Aplicar</button>
                    <button type="button" class="btn-filter btn-ghost" id="btn-clear">Limpiar</button>
                </div>
            </section>

            <section class="metrics-split">
                <div class="metrics-column">
                    <h3 class="metrics-title">Ventas Vets</h3>
                    <div class="metrics-grid">
                        <article class="metric-card vets">
                            <p class="metric-label">Total unidades</p>
                            <h2 class="metric-value" id="metric-ventas-unidades">0</h2>
                            <p class="metric-note">Ventas confirmadas</p>
                        </article>
                        <article class="metric-card vets">
                            <p class="metric-label">Total monto ventas</p>
                            <h2 class="metric-value" id="metric-ventas-monto">$0</h2>
                            <p class="metric-note">Monto neto (contado)</p>
                        </article>
                        <article class="metric-card vets">
                            <p class="metric-label">Total monto en credito</p>
                            <h2 class="metric-value" id="metric-ventas-credito">$0</h2>
                            <p class="metric-note">Ventas a credito</p>
                        </article>
                        <article class="metric-card vets">
                            <p class="metric-label">Comisiones total (CBD + PLUS)</p>
                            <h2 class="metric-value" id="metric-ventas-comisiones">$0</h2>
                            <p class="metric-note">Suma de comisiones</p>
                        </article>
                    </div>
                </div>
                <div class="metrics-column">
                    <h3 class="metrics-title">Preventas</h3>
                    <div class="metrics-grid">
                        <article class="metric-card preventas">
                            <p class="metric-label">Comisiones netas</p>
                            <h2 class="metric-value" id="metric-comisiones">$0</h2>
                            <p class="metric-note">Solo confirmadas</p>
                        </article>
                        <article class="metric-card preventas">
                            <p class="metric-label">Comisiones retenidas por credito</p>
                            <h2 class="metric-value" id="metric-retenidas">$0</h2>
                            <p class="metric-note">Comision retenida</p>
                        </article>
                        <article class="metric-card preventas">
                            <p class="metric-label">Promedio unidades totales</p>
                            <h2 class="metric-value" id="metric-promedio-unidades">0</h2>
                            <p class="metric-note">Pendiente Desarrollar</p>
                        </article>
                        <article class="metric-card preventas">
                            <p class="metric-label">Total unidades</p>
                            <h2 class="metric-value" id="metric-unidades">0</h2>
                            <p class="metric-note">Confirmadas del periodo</p>
                        </article>
                    </div>
                </div>
            </section>

            <section class="charts-grid">
                <article class="chart-card preventas">
                    <div class="chart-head">
                        <h3>Ventas Vets por dia</h3>
                        <span class="chart-tag" id="chart-ventas-label"></span>
                    </div>
                    <div class="chart-scroll">
                        <div class="bar-chart" id="chart-ventas-day"></div>
                    </div>
                </article>
                <article class="chart-card preventas">
                    <div class="chart-head">
                        <h3>Unidades preventas por dia</h3>
                        <span class="chart-tag" id="chart-preventas-label"></span>
                    </div>
                    <div class="chart-scroll">
                        <div class="bar-chart" id="chart-preventas-day"></div>
                    </div>
                </article>
                <article class="chart-card preventas">
                    <div class="chart-head">
                        <h3>Ventas Vets por mes (ano actual)</h3>
                        <span class="chart-tag" id="chart-ventas-year"></span>
                    </div>
                    <div class="bar-chart" id="chart-ventas-month"></div>
                </article>
                <article class="chart-card preventas">
                    <div class="chart-head">
                        <h3>Unidades preventas por mes (ano actual)</h3>
                        <span class="chart-tag" id="chart-preventas-year"></span>
                    </div>
                    <div class="bar-chart" id="chart-preventas-month"></div>
                </article>
                <article class="chart-card">
                    <div class="chart-head">
                        <h3>Unidades por producto</h3>
                        <span class="chart-tag">Preventas vs Vets</span>
                    </div>
                    <div class="empty-state" id="chart-products">
                        Sin datos de productos todavia.
                    </div>
                </article>
                <article class="chart-card preventas">
                    <div class="chart-head">
                        <h3>Comisiones Preventas vs Vets</h3>
                        <span class="chart-tag" id="chart-asesores-label"></span>
                    </div>
                    <div class="dual-chart" id="chart-commissions-advisors">
                        <div class="dual-panel">
                            <p class="dual-title">Ventas Vets</p>
                            <div class="bar-chart" id="chart-commissions-vets"></div>
                        </div>
                        <div class="dual-panel">
                            <p class="dual-title">Preventas por asesor</p>
                            <div class="bar-chart" id="chart-commissions-preventas"></div>
                        </div>
                    </div>
                </article>
                <article class="chart-card vets">
                    <div class="chart-head">
                        <h3>Total por Metodo de pago</h3>
                        <span class="chart-tag">Ventas confirmadas</span>
                    </div>
                    <div class="empty-state" id="chart-payment">
                        Sin ventas confirmadas todavia.
                    </div>
                </article>
                <article class="chart-card preventas">
                    <div class="chart-head">
                        <h3>Comisiones Preventas vs Vets General</h3>
                        <span class="chart-tag">Historico</span>
                    </div>
                    <div class="dual-chart" id="chart-commissions-advisors-all">
                        <div class="dual-panel">
                            <p class="dual-title">Ventas Vets</p>
                            <div class="bar-chart" id="chart-commissions-vets-all"></div>
                        </div>
                        <div class="dual-panel">
                            <p class="dual-title">Preventas por asesor</p>
                            <div class="bar-chart" id="chart-commissions-preventas-all"></div>
                        </div>
                    </div>
                </article>
            </section>
        </div>
    </main>

    <script src="rendimiento_general_kv.js"></script>
    <script src="sw-register.js"></script>
</body>
</html>

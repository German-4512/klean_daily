<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Comisiones - Klean Vet</title>
    <meta name="theme-color" content="#00cbd1">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="mis_comisiones_vets.css">
</head>
<body>
    <header class="header-container">
        <div class="brand">
            <span class="brand-black">KLEAN VET</span>
            <span class="brand-accent">DAILY</span>
        </div>
        <a href="#" id="logout-btn" class="logout-link">
            <span class="logout-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" width="18" height="18" role="img" focusable="false">
                    <path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0 2c-3.33 0-8 1.67-8 5v1h16v-1c0-3.33-4.67-5-8-5z" fill="currentColor"></path>
                </svg>
            </span>
            Cerrar Sesion
        </a>
    </header>

    <main class="page">
        <div class="page-card">
            <div class="page-head">
                <button type="button" class="btn-back" id="btn-back">ATRAS</button>
                <div>
                    <h1 class="page-title">MIS <span class="title-accent">COMISIONES</span></h1>
                    <p class="page-subtitle" id="period-subtitle">Resumen de comisiones confirmadas</p>
                </div>
            </div>

            <section class="filters">
                <div class="filter-group">
                    <label for="filter-month">Filtrar por mes</label>
                    <input type="month" id="filter-month">
                </div>
                <div class="filter-actions">
                    <button type="button" class="btn-filter" data-preset="yesterday">Ayer</button>
                    <button type="button" class="btn-filter" data-preset="today">Hoy</button>
                    <button type="button" class="btn-filter" data-preset="last7">Ultimos 7 dias</button>
                    <button type="button" class="btn-filter btn-primary" id="btn-apply-month">Aplicar</button>
                    <button type="button" class="btn-filter btn-ghost" id="btn-clear">Limpiar</button>
                </div>
            </section>

            <section class="summary-grid">
                <article class="summary-card">
                    <p class="summary-label">Comisiones del mes actual</p>
                    <h2 class="summary-value" id="total-mes">$0</h2>
                    <p class="summary-note">Solo ventas confirmadas</p>
                </article>
                <article class="summary-card">
                    <p class="summary-label">Retenidas por credito (mes actual)</p>
                    <h2 class="summary-value" id="retenidas-mes">$0</h2>
                    <p class="summary-note">Creditos sin paz y salvo</p>
                </article>
                <article class="summary-card">
                    <p class="summary-label">Comisiones generales</p>
                    <h2 class="summary-value" id="total-general">$0</h2>
                    <p class="summary-note">Pagadas historicas</p>
                </article>
                <article class="summary-card">
                    <p class="summary-label">Retenidas por credito (general)</p>
                    <h2 class="summary-value" id="retenidas-general">$0</h2>
                    <p class="summary-note">Historico completo</p>
                </article>
            </section>

            <section class="table-card">
                <div class="table-head">
                    <div>
                        <h3>Comisiones por producto (mes actual)</h3>
                        <p class="table-subtitle" id="table-month-label"></p>
                    </div>
                </div>
                <div class="table-scroll">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Num Documento</th>
                                <th>Producto</th>
                                <th>Unidades pagadas</th>
                                <th>Unidades credito</th>
                                <th>Comision por unidad</th>
                                <th>Total A Pagar</th>
                                <th>Total retenido</th>
                            </tr>
                        </thead>
                        <tbody id="comisiones-body">
                            <tr>
                                <td colspan="7" class="table-empty">Cargando comisiones...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </main>

    <script src="mis_comisiones_vets.js"></script>
    <script src="sw-register.js"></script>
</body>
</html>
